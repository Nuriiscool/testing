<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nuri | Social Links</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* –í–∞—à–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      color: white;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      position: relative;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    }
    /* ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ ... */
  </style>
</head>
<body>
  <!-- Animated background -->
  <div id="particles-js"></div>

  <!-- Main content -->
  <div class="content">
    <img src="kokushibo.png" class="avatar" alt="Nuri" onerror="this.src='fallback-avatar.png'">
    <h2>Nuri</h2>
    
    <!-- Status system -->
    <div class="status" id="status-container">
      <div class="status-dot loading" id="status-dot"></div>
      <span id="status-text">Loading...</span>
    </div>
    <div class="status-message" id="status-message">
      Connecting to status service...
    </div>

    <h1>Hello! üëã</h1>
    <p>Connect with me:</p>

    <a class="link-button instagram" href="https://instagram.com/nxr1_ba" target="_blank" rel="noopener noreferrer">
      <i class="fab fa-instagram"></i> Instagram
    </a>
    <a class="link-button tiktok" href="https://tiktok.com/@nxr1_ba" target="_blank" rel="noopener noreferrer">
      <i class="fab fa-tiktok"></i> TikTok
    </a>
    <a class="link-button youtube" href="https://youtube.com/@Nuriiscool" target="_blank" rel="noopener noreferrer">
      <i class="fab fa-youtube"></i> YouTube
    </a>
    <a class="link-button discord" href="https://discord.gg/R2D36VqGKA" target="_blank" rel="noopener noreferrer">
      <i class="fab fa-discord"></i> Discord Server
    </a>
    <a class="link-button telegram" href="https://t.me/darrliquer" target="_blank" rel="noopener noreferrer">
      <i class="fab fa-telegram"></i> Telegram
    </a>
    <a class="link-button twogis" href="https://2gis.ru/user/0b76b22dcf9741b381e78401e82270d0" target="_blank" rel="noopener noreferrer">
      <i class="fas fa-map-marked-alt"></i> 2GIS
    </a>

    <button class="copy-btn" onclick="copyTelegram()">
      <i class="fas fa-copy"></i> Copy Telegram
    </button>
  </div>

  <!-- Admin Panel -->
  <div id="admin-overlay">
    <div id="admin-panel">
      <div id="admin-login">
        <h3>Admin Access</h3>
        <input type="password" id="admin-password" placeholder="Enter password">
        <button onclick="checkAdminPassword()">Continue</button>
        <button onclick="hideAdminPanel()" style="background: #e74c3c; margin-top: 10px;">Cancel</button>
      </div>
      <div id="admin-controls">
        <h3>Status Manager</h3>
        <select id="status-select">
          <option value="offline">Offline</option>
          <option value="online">Online</option>
        </select>
        <input type="text" id="status-custom-text" placeholder="What I'm doing...">
        <button onclick="updateStatus()">Update Status</button>
        <button onclick="hideAdminPanel()" style="background: #e74c3c; margin-top: 10px;">Close Panel</button>
      </div>
    </div>
  </div>

  <!-- Admin hint -->
  <div class="admin-hint">Press Ctrl+Alt+N or triple-click bottom-right</div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-check-compat.js"></script>

  <script>
    // ======================
    // FIREBASE CONFIGURATION
    // ======================
    const firebaseConfig = {
      apiKey: "AIzaSyBwjcK9brfOAwlkojOfYgMO_dFY-DNvEvQ",
      authDomain: "nuri-test-95cc5.firebaseapp.com",
      databaseURL: "https://nuri-test-95cc5-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "nuri-test-95cc5",
      storageBucket: "nuri-test-95cc5.firebasestorage.app",
      messagingSenderId: "440508513511",
      appId: "1:440508513511:web:f85ed92675fd040aad3642"
    };

    // Initialize Firebase
    const firebaseApp = firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    const auth = firebase.auth();

    // Initialize App Check with reCAPTCHA Enterprise
    const appCheck = firebase.appCheck();
    appCheck.activate('YOUR_RECAPTCHA_ENTERPRISE_SITE_KEY', true);

    // –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
    if (window.location.hostname === "localhost") {
      self.FIREBASE_APPCHECK_DEBUG_TOKEN = true;
    }

    // ======================
    // AUTHENTICATION SYSTEM
    // ======================
    let adminUser = null;

    function checkAdminPassword() {
      const email = "admin@nuri.com"; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à admin email
      const password = document.getElementById('admin-password').value;
      
      auth.signInWithEmailAndPassword(email, password)
        .then((userCredential) => {
          adminUser = userCredential.user;
          document.getElementById('admin-login').style.display = 'none';
          document.getElementById('admin-controls').style.display = 'block';
          loadCurrentStatus();
        })
        .catch((error) => {
          alert("Authentication failed: " + error.message);
        });
    }

    // ======================
    // STATUS SYSTEM
    // ======================
    function loadStatus() {
      database.ref('status').on('value', (snapshot) => {
        const data = snapshot.val() || {};
        updateUI(data);
      }, (error) => {
        console.error("Firebase Error:", error);
        document.getElementById('status-text').textContent = "Offline (Error)";
      });
    }

    function loadCurrentStatus() {
      database.ref('status').once('value').then((snapshot) => {
        const currentStatus = snapshot.val() || {};
        document.getElementById('status-select').value = currentStatus.state || 'online';
        document.getElementById('status-custom-text').value = currentStatus.message || '';
      });
    }

    function updateUI(status) {
      document.getElementById('status-dot').className = 'status-dot ' + (status.state || 'loading');
      document.getElementById('status-text').textContent = 
        status.state === 'online' ? 'Online' : 
        status.state === 'offline' ? 'Offline' : 'Loading';
      document.getElementById('status-message').textContent = status.message || 'Status not available';
    }

    function updateStatus() {
      if (!adminUser) {
        alert("You need to login first!");
        return;
      }

      const status = document.getElementById('status-select').value;
      const text = sanitizeInput(document.getElementById('status-custom-text').value);
      
      database.ref('status').set({
        state: status,
        message: text,
        updatedBy: adminUser.uid,
        timestamp: firebase.database.ServerValue.TIMESTAMP
      }).then(() => {
        alert("Status updated!");
        hideAdminPanel();
      }).catch((error) => {
        alert("Error updating: " + error.message);
      });
    }

    // ======================
    // SECURITY FUNCTIONS
    // ======================
    function sanitizeInput(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // ======================
    // ADMIN PANEL CONTROLS
    // ======================
    function showAdminPanel() {
      document.getElementById('admin-overlay').style.display = 'flex';
      document.getElementById('admin-login').style.display = 'block';
      document.getElementById('admin-controls').style.display = 'none';
      document.getElementById('admin-password').value = '';
    }
    
    function hideAdminPanel() {
      document.getElementById('admin-overlay').style.display = 'none';
      if (adminUser) {
        auth.signOut();
        adminUser = null;
      }
    }

    // Triple-click detection (bottom-right corner)
    document.addEventListener('click', (e) => {
      if (e.clientX > window.innerWidth - 150 && e.clientY > window.innerHeight - 150) {
        clickCount++;
        if (clickCount >= 3) {
          showAdminPanel();
          clickCount = 0;
        }
        setTimeout(() => { clickCount = 0; }, 1000);
      }
    });

    // Hotkey: Ctrl+Alt+N
    document.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.altKey && e.key.toLowerCase() === 'n') {
        showAdminPanel();
      }
    });

    // ======================
    // OTHER FUNCTIONS
    // ======================
    function copyTelegram() {
      navigator.clipboard.writeText('@darrliquer')
        .then(() => {
          const btn = document.querySelector('.copy-btn');
          btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
          setTimeout(() => {
            btn.innerHTML = '<i class="fas fa-copy"></i> Copy Telegram';
          }, 2000);
        });
    }

    // ======================
    // INITIALIZATION
    // ======================
    loadStatus();
    
    // Particles.js configuration
    particlesJS("particles-js", {
      "particles": {
        "number": { "value": 60 },
        "size": { "value": 3 },
        "color": { "value": "#ffffff" },
        "opacity": { "value": 0.3 },
        "move": { "speed": 1 },
        "line_linked": {
          "enable": true,
          "distance": 120,
          "color": "#ffffff",
          "opacity": 0.2,
          "width": 1
        }
      },
      "interactivity": {
        "events": {
          "onhover": { "enable": true, "mode": "repulse" }
        }
      }
    });
  </script>
</body>
</html>
